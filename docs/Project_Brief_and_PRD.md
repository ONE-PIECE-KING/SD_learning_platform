# 專案簡報與產品需求文件 (Project Brief & PRD) - 線上學習平台 MVP

---

**文件版本 (Document Version):** `v1.0`
**最後更新 (Last Updated):** `2025-12-29`
**主要作者 (Lead Author):** `冠瑋 (Tech Lead)`
**審核者 (Reviewers):** `Jane、古古、Celia、子科`
**狀態 (Status):** `審核中 (In Review)`

---

## 目錄 (Table of Contents)

1. [專案總覽 (Project Overview)](#第-1-部分專案總覽-project-overview)
2. [商業目標 (Business Objectives) - 「為何做？」](#第-2-部分商業目標-business-objectives---為何做)
3. [使用者故事與允收標準 (User Stories &amp; UAT) - 「做什麼？」](#第-3-部分使用者故事與允收標準-user-stories--uat---做什麼)
4. [範圍與限制 (Scope &amp; Constraints)](#第-4-部分範圍與限制-scope--constraints)
5. [待辦問題與決策 (Open Questions &amp; Decisions)](#第-5-部分待辦問題與決策-open-questions--decisions)

---

**目的**: 本文件旨在定義專案的「為何」與「為誰」，為整個專案設定最高層次的目標和邊界。它是所有後續設計、開發與測試工作的唯一事實來源 (Single Source of Truth)。

---

## 第 1 部分：專案總覽 (Project Overview)

| 區塊                   | 內容                                                                                                         |
| :--------------------- | :----------------------------------------------------------------------------------------------------------- |
| **專案名稱**     | 線上學習平台 MVP                                                                                             |
| **狀態**         | 開發中                                                                                                       |
| **目標發布日期** | 6 週內交付 MVP 核心功能                                                                                      |
| **核心團隊**     | PM:Jane `<br>`Tech Lead:冠瑋 `<br>`Backend Engineers: Celia、子科 `<br>`Frontend Engineers: 古古、Jane |

### 專案核心價值

透過「基礎先行、功能並行」的開發節奏，在 6 週內交付 MVP 核心價值，確保影音流轉管道的技術可行性與穩定性。

### 五大核心任務

1. **環境架設與資料庫建立** (基礎)
2. **用戶註冊/登入** (Google SSO)
3. **課程瀏覽/詳情**
4. **課程建立/上傳影片** (後台)
5. **影片播放** (核心)

---

## 第 2 部分：商業目標 (Business Objectives) - 「為何做？」

*在投入資源前，我們必須清晰地定義問題、目標使用者和商業價值，避免開發出無人需要的產品。*

| 區塊                                    | 內容                                                                                                                                                                                                                                                                                                                                |
| :-------------------------------------- | :---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **1. 背景與痛點**                 | 線上學習市場持續成長，但現有平台存在以下問題：`<br><br>`- **高額抽成**：主流平台抽成高達 30-50%，壓縮創作者收益`<br>`- **審核緩慢**：人工審核流程耗時，影響課程上架速度`<br>`- **影音體驗不佳**：部分平台影片載入慢、斷點續看功能不完善`<br>`- **SEO 不友善**：SPA 架構導致搜尋引擎難以索引課程內容 |
| **2. 策略契合度**                 | 本專案支持以下戰略目標：`<br><br>`- **創作者友善**：僅收取 20% 平台費用，讓創作者獲得 80% 收益`<br>`- **AI 輔助審核**：利用 AI 技術加速內容審核流程`<br>`- **SEO 優先**：採用 SSR/SSG 架構確保搜尋引擎可索引`<br>`- **模組化架構**：為未來擴展預留彈性空間                                          |
| **3. 成功指標 (Success Metrics)** | 我們將透過以下 KPI 衡量成功：`<br><br>`- **主要指標**: MVP 上線後 30 天內完成 10 門課程上架`<br>`- **次要指標**: 影片播放成功率 > 99%`<br>`- **技術指標**: 所有 API 響應時間 < 400ms (95th percentile)`<br>`- **用戶體驗**: 首屏渲染 (LCP) < 2.5s                                                   |

---

## 第 3 部分：使用者故事與允收標準 (User Stories & UAT) - 「做什麼？」

*這是連接「商業需求」與「技術實現」的橋樑。每個使用者故事都應直接對應到 WBS 任務。*

### 角色定義

| 角色                     | 代碼      | 說明                                             |
| ------------------------ | --------- | ------------------------------------------------ |
| **會員 (User)**    | `USER`  | 一般會員，可瀏覽/購買/觀看課程，也可建立課程販售 |
| **管理員 (Admin)** | `ADMIN` | 平台管理者，審核課程、管理用戶、查看營運數據     |

---

### Epic 1: 用戶認證系統 (User Authentication)

| 使用者故事 ID         | 描述 (As a, I want to, so that)                                                                                                          | 核心允收標準 (UAT)                                                                                                                       | WBS 任務     | 負責人             |
| :-------------------- | :--------------------------------------------------------------------------------------------------------------------------------------- | :--------------------------------------------------------------------------------------------------------------------------------------- | :----------- | :----------------- |
| **US-AUTH-001** | **As a** 新使用者,`<br>`**I want to** 透過 Google 帳號快速註冊/登入,`<br>`**so that** 我可以立即開始使用平台服務。 | 1. 點擊 Google 登入按鈕後成功導向 Google 授權頁`<br>`2. 授權後自動建立/匹配本地用戶帳號`<br>`3. 登入成功後導回平台首頁並顯示用戶資訊 | 2.1.B, 2.3.F | Celia, 古古 & Jane |
| **US-AUTH-002** | **As a** 已登入使用者,`<br>`**I want to** 系統自動刷新我的登入狀態,`<br>`**so that** 我不需要頻繁重新登入。        | 1. JWT Token 過期前自動刷新`<br>`2. Token 刷新失敗時導向登入頁面`<br>`3. 支援多裝置同時登入                                          | 2.2.B        | Celia              |
| **US-AUTH-003** | **As a** 使用者,`<br>`**I want to** 看到清楚的登入失敗提示,`<br>`**so that** 我知道如何解決問題。                  | 1. 網路錯誤時顯示友善提示`<br>`2. 帳號問題時提供明確指引`<br>`3. 支援重試機制                                                        | 2.3.F        | 古古 & Jane        |

---

### Epic 2: 課程瀏覽與搜尋 (Course Browsing)

| 使用者故事 ID        | 描述 (As a, I want to, so that)                                                                                               | 核心允收標準 (UAT)                                                                                         | WBS 任務     | 負責人            |
| :------------------- | :---------------------------------------------------------------------------------------------------------------------------- | :--------------------------------------------------------------------------------------------------------- | :----------- | :---------------- |
| **US-STU-001** | **As a** 會員,`<br>`**I want to** 瀏覽平台上的課程列表,`<br>`**so that** 我可以發現感興趣的課程。       | 1. 課程列表支援分頁功能`<br>`2. 每個課程卡片顯示標題、封面、講師、影片數量`<br>`3. 頁面載入時間 < 2.5s | 3.1.B, 3.2.F | 子科, 古古 & Jane |
| **US-STU-002** | **As a** 會員,`<br>`**I want to** 透過關鍵字搜尋課程,`<br>`**so that** 我可以快速找到特定主題的課程。   | 1. 支援課程標題/描述的關鍵字搜尋`<br>`2. 搜尋結果即時更新`<br>`3. 無結果時顯示友善提示                 | 3.1.B, 3.2.F | 子科, 古古 & Jane |
| **US-STU-003** | **As a** 會員,`<br>`**I want to** 查看課程詳情頁面,`<br>`**so that** 我可以了解課程內容再決定是否購買。 | 1. 顯示課程完整描述、講師資訊`<br>`2. 顯示課程大綱 (章節/影片列表)`<br>`3. 顯示價格與購買按鈕          | 3.1.B, 3.3.F | 子科, 古古 & Jane |

---

### Epic 3: 課程建立與影片上傳 (Content Management)

| 使用者故事 ID        | 描述 (As a, I want to, so that)                                                                                                          | 核心允收標準 (UAT)                                                                                  | WBS 任務            | 負責人            |
| :------------------- | :--------------------------------------------------------------------------------------------------------------------------------------- | :-------------------------------------------------------------------------------------------------- | :------------------ | :---------------- |
| **US-TCH-001** | **As a** 會員 (創作者),`<br>`**I want to** 建立新課程並填寫課程資訊,`<br>`**so that** 我可以開始規劃我的課程內容。 | 1. 可填寫課程標題、描述、價格`<br>`2. 可上傳課程封面圖片`<br>`3. 課程建立後狀態為「草稿」       | 3.1.B               | 子科              |
| **US-TCH-002** | **As a** 會員 (創作者),`<br>`**I want to** 建立章節並上傳影片,`<br>`**so that** 我可以組織課程內容結構。           | 1. 可建立/編輯/刪除/排序章節`<br>`2. 每個章節下可上傳多部影片`<br>`3. 支援影片拖拽上傳          | 4.1.B, 4.3.F        | 冠瑋, 古古 & Jane |
| **US-TCH-003** | **As a** 會員 (創作者),`<br>`**I want to** 看到影片上傳與處理進度,`<br>`**so that** 我知道影片何時可以播放。       | 1. 顯示上傳百分比進度`<br>`2. 上傳完成後自動開始轉碼處理`<br>`3. 轉碼完成後狀態更新為「可播放」 | 4.1.B, 4.2.B, 4.3.F | 冠瑋, 古古 & Jane |

---

### Epic 4: 影片播放體驗 (Video Playback)

| 使用者故事 ID        | 描述 (As a, I want to, so that)                                                                                                         | 核心允收標準 (UAT)                                                                                             | WBS 任務     | 負責人             |
| :------------------- | :-------------------------------------------------------------------------------------------------------------------------------------- | :------------------------------------------------------------------------------------------------------------- | :----------- | :----------------- |
| **US-STU-004** | **As a** 已報名課程的會員,`<br>`**I want to** 觀看課程影片,`<br>`**so that** 我可以學習課程內容。                 | 1. 成功播放 HLS 格式影片`<br>`2. 支援多種解析度切換 (720p/1080p)`<br>`3. 播放前驗證用戶報名狀態            | 5.1.B, 5.2.F | Celia, 古古 & Jane |
| **US-STU-005** | **As a** 已報名課程的會員,`<br>`**I want to** 從上次觀看位置繼續播放,`<br>`**so that** 我不需要重新尋找觀看進度。 | 1. 每 10 秒自動儲存播放進度`<br>`2. 重新進入影片時從上次位置繼續`<br>`3. 完成 90% 以上自動標記為「已完成」 | 5.1.B, 5.2.F | Celia, 古古 & Jane |

---

## 第 4 部分：範圍與限制 (Scope & Constraints)

*明確定義邊界是專案成功的關鍵。這為開發團隊提供了最重要的「護欄」。*

### 功能性需求 (In Scope)

| 模組               | 核心功能                            | 優先級 |
| ------------------ | ----------------------------------- | ------ |
| **認證模組** | Google OAuth 登入、JWT Token 管理   | P0     |
| **用戶模組** | 用戶資料管理、角色權限 (USER/ADMIN) | P0     |
| **課程模組** | 課程 CRUD、章節管理、搜尋瀏覽       | P0     |
| **影片模組** | 影片上傳、FFmpeg 轉碼、HLS 串流     | P0     |
| **報名模組** | 課程報名、觀看進度追蹤              | P0     |

### 非功能性需求 (NFRs)

| 類別                 | 需求           | 指標                                |
| -------------------- | -------------- | ----------------------------------- |
| **性能**       | API 響應時間   | < 400ms (95th percentile)           |
| **性能**       | 首屏渲染 (LCP) | < 2.5s                              |
| **安全性**     | 密碼儲存       | 使用 bcrypt 加密                    |
| **安全性**     | API 認證       | JWT Token + 權限中間件              |
| **安全性**     | 影片存取       | 帶 Token 的 CDN URL (有效期 4 小時) |
| **可用性**     | 影片播放成功率 | > 99%                               |
| **資料一致性** | 影片狀態同步   | 不允許出現「死連結」                |

### 不做什麼 (Out of Scope - MVP 階段)

| 功能                     | 說明                   | 規劃階段 |
| ------------------------ | ---------------------- | -------- |
| **ECPay 金流整合** | 付款功能延後至 Phase 2 | Phase 2  |
| **Facebook OAuth** | 僅支援 Google 登入     | Phase 2  |
| **AI 內容審核**    | AI 審核功能延後        | Phase 2  |
| **管理員儀表板**   | KPI 報表、稽核日誌     | Phase 2  |
| **課程評價系統**   | 用戶評分與評論         | Phase 2  |
| **推薦系統**       | 個人化課程推薦         | Phase 3  |

### 技術架構決策

| 決策                | 選擇                          | 理由                                   |
| ------------------- | ----------------------------- | -------------------------------------- |
| **架構模式**  | 模組化單體 (Modular Monolith) | 團隊小、快速迭代、低成本、便於未來拆分 |
| **Frontend**  | Next.js 14+ (App Router)      | SSR/SSG 支援 SEO、React 生態完整       |
| **Backend**   | FastAPI + SQLAlchemy 2.0      | 高效能、自動文檔、Async 支援           |
| **資料庫**    | PostgreSQL 15+                | 成熟穩定、支援複雜查詢                 |
| **快取/佇列** | Redis 7+                      | 快取、Session、任務佇列一站式解決      |
| **物件儲存**  | MinIO                         | S3 相容、本地部署、節省成本            |
| **影片處理**  | FFmpeg + Celery               | 背景任務處理、HLS 轉碼                 |

### 假設與依賴

| 類別           | 內容                              |
| -------------- | --------------------------------- |
| **假設** | 使用者具備穩定的網路連線          |
| **假設** | 使用者瀏覽器支援 HLS 影片格式     |
| **依賴** | Google Cloud Console (OAuth 設定) |
| **依賴** | SendGrid API (郵件發送)           |
| **依賴** | FFmpeg 6+ (影片轉碼)              |

---

## 第 5 部分：待辦問題與決策 (Open Questions & Decisions)

*記錄在討論過程中出現的、需要進一步澄清的問題或已做出的重要決策。*

### 已決定事項

| 決策 ID         | 描述                                          | 狀態     | 決策者 |
| :-------------- | :-------------------------------------------- | :------- | :----- |
| **D-001** | 採用 PostgreSQL 作為主要資料庫                | [已決定] | 冠瑋   |
| **D-002** | MVP 階段僅支援 Google OAuth 登入              | [已決定] | 全團隊 |
| **D-003** | 影片儲存使用 MinIO (S3 相容)                  | [已決定] | 冠瑋   |
| **D-004** | 影片格式統一轉為 HLS (720p/1080p)             | [已決定] | 冠瑋   |
| **D-005** | 平台抽成比例為 20%，創作者獲得 80%            | [已決定] | PM     |
| **D-006** | 採用契約驅動開發 (Contract-First Development) | [已決定] | 冠瑋   |

### 待討論問題

| 問題 ID         | 描述                                 | 狀態     | 負責人   |
| :-------------- | :----------------------------------- | :------- | :------- |
| **Q-001** | 影片最大上傳大小限制為多少？         | [待討論] | 冠瑋     |
| **Q-002** | 免費試看影片的時長限制？             | [待討論] | PM       |
| **Q-003** | 課程下架後，已購買用戶是否仍可觀看？ | [待討論] | PM, 冠瑋 |
| **Q-004** | 是否需要支援影片字幕功能？           | [待討論] | 全團隊   |

---

## 附錄：關鍵里程碑 (Key Milestones)

| 里程碑       | 週次   | 目標                                                                |
| ------------ | ------ | ------------------------------------------------------------------- |
| **M1** | Week 1 | **環境穩定化** - 所有團隊成員可進行代碼同步，資料庫可正常寫入 |
| **M2** | Week 2 | **認證閉環** - 用戶可透過 Google 帳號正常進出平台             |
| **M3** | Week 4 | **上傳-播放打通** - 影片上傳後可成功轉碼並在前端播放          |
| **M4** | Week 6 | **交付版本** - 完成 Bug 修復，正式部署至生產環境              |

---

## 附錄：API 模組與負責人

| 模組        | 端點數 | 後端 Owner | 前端 Owner  | WBS 任務     |
| ----------- | ------ | ---------- | ----------- | ------------ |
| Auth        | 4      | Celia      | 古古 & Jane | 2.1.B, 2.2.B |
| Users       | 2      | Celia      | 古古 & Jane | -            |
| Courses     | 5      | 子科       | 古古 & Jane | 3.1.B        |
| Videos      | 6      | 冠瑋       | 古古 & Jane | 4.1.B, 4.2.B |
| Playback    | 3      | Celia      | 古古 & Jane | 5.1.B        |
| Enrollments | 3      | 子科       | 古古 & Jane | -            |

---

## 相關文件

- [MVP 系統架構文件](./MVP_系統架構.md)
- [MVP WBS 開發計劃](./MVP_wbs.md)
- [API 契約使用說明書](./契約使用說明書.md)
- [VibeCoding 工作流程模板](../VibeCoding_Workflow_Templates/INDEX.md)

---

**文件結束**

> 本文件隨專案演進持續更新，最新版本請參考 Git 儲存庫。
