# 一對一諮詢 頁面規格書

## 頁面資訊

| 項目     | 說明                                         |
| -------- | -------------------------------------------- |
| 路徑     | `/consult`                                   |
| 角色權限 | 公開頁面瀏覽；預約需登入                     |
| 核心目的 | 展示導師資訊、諮詢方案，完成時段預約與付款   |

---

## 頁面結構

| 區塊               | 說明                                     |
| ------------------ | ---------------------------------------- |
| 導師個人檔案區     | 頭像、姓名、專業標籤、統計、簡介         |
| 諮詢方案選擇       | 時長、價格、諮詢方式                     |
| 預約時段選取器     | 日曆視圖 + 時段列表                      |
| 諮詢需求表單       | 主題描述、附件上傳、預期目標             |
| 社群連結           | LINE、Discord 即時聯繫按鈕              |

---

## 元件規格

### 導師個人檔案（Consultant Profile）

| 欄位           | 說明                                           |
| -------------- | ---------------------------------------------- |
| 頭像           | 導師照片                                       |
| 姓名與職稱     | 專業職稱                                       |
| 專業領域標籤   | 例：「職涯規劃」「前端開發」「面試技巧」       |
| 諮詢統計       | 總諮詢次數、平均評分、回覆速度                 |
| 個人簡介       | 學經歷、專業背景、能提供的幫助                 |

### 諮詢方案選擇（Service Options）

| 欄位       | 說明                                     |
| ---------- | ---------------------------------------- |
| 諮詢時長   | 30 分鐘、60 分鐘等                       |
| 價格       | 各方案對應價格                           |
| 諮詢方式   | Google Meet 視訊、語音通話等             |

### 預約時段選取器（Time Slot Picker）

| 元件         | 說明                                                 |
| ------------ | ---------------------------------------------------- |
| 日曆視圖     | 顯示可預約日期                                       |
| 時段列表     | 點擊日期後顯示當天可預約時段                         |
| 時區切換     | 自動偵測使用者時區，可手動調整                       |
| 即時狀態     | 已預約/已過期時段顯示為 Disabled                     |

### 諮詢需求表單（Requirement Form）

| 欄位           | 必填 | 說明                             |
| -------------- | ---- | -------------------------------- |
| 諮詢主題       | 是   | 具體問題描述                     |
| 附件上傳       | 否   | 作品集連結、簡歷 PDF            |
| 預期目標       | 否   | 預期達成的成果                   |

### 社群連結（Social Contact）

頁面底部或側邊提供即時聯繫管道，方便使用者在預約前快速諮詢。

| 平台     | 按鈕樣式       | 說明                                     |
| -------- | -------------- | ---------------------------------------- |
| LINE     | 品牌綠色按鈕   | 點擊開啟 LINE 官方帳號對話               |
| Discord  | 品牌紫色按鈕   | 點擊加入 Discord 社群頻道               |

---

## API 整合

### 導師與時段資訊

```
GET /api/v1/consultants/{id}
```
- 載入導師基本資料

```
GET /api/v1/consultants/{id}/availability?start_date={date}&end_date={date}
```
- 根據日曆切換月份/週別，動態獲取可預約時段

### 預約與訂單建立

```
POST /api/v1/consultations/book
```

- **請求：** `{ slot_id, plan_id, topic, attachments, goals }`
- **成功回應：** 建立諮詢紀錄，回傳 `order_id`
- **後續：** 跳轉至 `POST /api/v1/orders/{id}/pay` 進行付款

### 預約通知

- 付款成功後，系統自動發送預約確認通知（Email/站內信）給導師與學員
- 通知內容包含視訊會議連結

---

## 狀態與錯誤處理

| 狀態/錯誤             | 處理方式                                           |
| --------------------- | -------------------------------------------------- |
| Loading               | 日曆與時段區域使用 Skeleton Screen                 |
| 時段衝突              | 後提交者收到「該時段已被預約」錯誤提示             |
| 導師休假/停權         | 顯示「目前不提供預約」，隱藏時段選取器             |
| 預約鎖定超時          | 時段選取後鎖定 10-15 分鐘，超時未付款則釋放       |

### 退費與取消

- 諮詢前 X 小時取消：可申請全額退費
- 導師無故缺席：學員可檢舉並申請退費

---

## 交互行為

| 行為             | 說明                                                     |
| ---------------- | -------------------------------------------------------- |
| Sticky Sidebar   | 桌面端預約摘要與「立即預約」按鈕固定右側隨頁面捲動       |
| 即時計算         | 根據方案與優惠券即時更新總金額                           |
| 行動端適配       | 時段選取器改為底部彈出式面板（Bottom Sheet）             |
| 視訊會議整合     | 預約成功後自動生成 Zoom/Google Meet 專屬連結             |
| 評價與回饋       | 諮詢結束後發送評價邀請，學員可評分與文字回饋             |
