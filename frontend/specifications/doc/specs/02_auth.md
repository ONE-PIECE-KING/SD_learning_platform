# 登入與註冊 頁面規格書

## 頁面資訊

| 項目     | 說明                                       |
| -------- | ------------------------------------------ |
| 路徑     | `/auth/login`、`/auth/register`            |
| 角色權限 | 公開頁面，未登入使用者可瀏覽               |
| 核心目的 | 使用者身份驗證與帳號建立                   |

---

## 頁面結構

採用置中卡片（Card）設計，確保在桌面端與行動端皆能保持良好的閱讀體驗。

| 區塊         | 說明                                                     |
| ------------ | -------------------------------------------------------- |
| 登入卡片     | Email + 密碼登入表單、第三方登入按鈕                     |
| 註冊卡片     | 姓名 + Email + 密碼設定 + 條款同意                       |
| 切換連結     | 卡片底部提供「還沒有帳號？立即註冊」/「已有帳號？立即登入」|

---

## 元件規格

### 登入頁面

| 元件             | 類型       | 說明                                             |
| ---------------- | ---------- | ------------------------------------------------ |
| Email 輸入框     | Input      | 電子郵件欄位                                     |
| 密碼輸入框       | Input      | 支援顯示/隱藏密碼切換按鈕（眼睛圖標）           |
| 記住我           | Checkbox   | 維持登入狀態                                     |
| 忘記密碼         | Link       | 導向密碼重設流程                                 |
| 登入按鈕         | Button     | Primary，提交表單                                |
| 第三方登入區     | ButtonGroup| Google、Facebook 等 OAuth 登入按鈕               |

### 註冊頁面

| 元件             | 類型       | 說明                                             |
| ---------------- | ---------- | ------------------------------------------------ |
| 姓名輸入框       | Input      | Full Name                                        |
| Email 輸入框     | Input      | 電子郵件欄位                                     |
| 密碼輸入框       | Input      | 密碼設定                                         |
| 確認密碼輸入框   | Input      | 再次輸入密碼                                     |
| 條款同意         | Checkbox   | 「我已閱讀並同意服務條款與隱私權政策」（含連結） |
| 註冊按鈕         | Button     | Primary，提交表單                                |

### 欄位驗證規則（Client-side）

| 欄位       | 規則                                                 |
| ---------- | ---------------------------------------------------- |
| Email      | 必填，符合 Regex 格式（`example@domain.com`）        |
| 密碼       | 最少 8 字元，必須包含大小寫字母及數字                |
| 確認密碼   | 必須與密碼欄位完全一致                               |

---

## API 整合

### 登入

```
POST /api/v1/auth/login
```

- **請求：** `{ email, password }`
- **成功回應：** 回傳 Access Token 與 Refresh Token
- **前端處理：** Token 存儲於 LocalStorage 或 Secure Cookie，導向首頁或原先請求頁面

### 註冊

```
POST /api/v1/auth/register
```

- **請求：** `{ name, email, password, password_confirmation }`
- **成功回應：** 自動執行登入流程或導向「註冊成功」提示頁面，引導 Email 驗證

### 第三方登入（OAuth）

```
GET /api/v1/auth/oauth/{provider}
```

- **行為：** 導向對應 Provider 驗證頁面

### Token 刷新

```
POST /api/v1/auth/refresh
```

- **行為：** 當 Access Token 過期（API 回傳 401），自動呼叫此介面更新 Token

---

## 狀態與錯誤處理

| 狀態/錯誤                | 處理方式                                               |
| ------------------------ | ------------------------------------------------------ |
| Loading                  | 提交時按鈕顯示 Loading 動畫並 Disabled，防止重複提交   |
| 帳號或密碼錯誤（401）   | Toast/Alert 顯示錯誤原因                               |
| Email 已被註冊（409）   | 表單欄位下方顯示錯誤提示                               |
| 帳號停權/未驗證         | 顯示對應提示訊息                                       |
| OAuth 授權失敗           | 返回登入頁並顯示「授權取消或失敗」                     |

---

## 交互行為

| 行為           | 說明                                         |
| -------------- | -------------------------------------------- |
| 自動聚焦       | 進入頁面時，第一個輸入欄位自動聚焦           |
| 鍵盤支援       | 按下 Enter 鍵觸發提交動作                    |
| 密碼安全性     | 預設隱藏字元，提供眼睛圖標切換顯示           |
| 響應式         | 卡片寬度在桌面端固定 max-width，行動端全寬   |
